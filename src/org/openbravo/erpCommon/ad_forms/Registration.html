<!--
 *************************************************************************
 * The contents of this file are subject to the Openbravo  Public  License
 * Version  1.1  (the  "License"),  being   the  Mozilla   Public  License
 * Version 1.1  with a permitted attribution clause; you may not  use this
 * file except in compliance with the License. You  may  obtain  a copy of
 * the License at http://www.openbravo.com/legal/license.html 
 * Software distributed under the License  is  distributed  on  an "AS IS"
 * basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
 * License for the specific  language  governing  rights  and  limitations
 * under the License. 
 * The Original Code is Openbravo ERP. 
 * The Initial Developer of the Original Code is Openbravo SLU 
 * All portions are Copyright (C) 2001-2011 Openbravo SLU 
 * All Rights Reserved. 
 * Contributor(s):  ______________________________________.
 ************************************************************************
-->

<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Registration</title>
  <link rel="shortcut icon" href="../../../../../web/images/favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" type="text/css" href="../../../../../web/skins/Default/Openbravo_ERP_250.css" id="paramCSS"></link>
  <script language="JavaScript" type="text/javascript" id="paramDirectory">var baseDirectory = "../../../../../web/";</script>
  <script language="JavaScript" type="text/javascript" id="paramLanguage">var defaultLang = "en_US";</script>
  <script language="JavaScript" src="../../../../../web/js/shortcuts.js" type="text/javascript"></script> 
  <script language="JavaScript" src="../../../../../web/js/utils.js" type="text/javascript"></script> 
  <script language="JavaScript" src="../../../../../web/js/windowKeyboard.js" type="text/javascript"></script>
  <script language="JavaScript" src="../../../../../web/js/ajax.js" type="text/javascript"></script>
  <script language="JavaScript" type="text/javascript" id="paramURL">var url = "http://www.openbravo.com/embedreg/form";</script>
  <script language="JavaScript" type="text/javascript">
  function closeRegistrationPage() {
    if (!isWindowInMDIContext) {
      closePage();
    } else {
      parent.frameMenu.closePage();
    }
  }

  function callback(paramXMLParticular, XMLHttpRequestObj) {
    if (getReadyStateHandler(XMLHttpRequestObj)) {
      try {
        if (XMLHttpRequestObj.responseText) {
          var strText = XMLHttpRequestObj.responseText;
          if (strText === 'REGISTER') {
            var regURL = typeof url === 'undefined' ? 'http://www.openbravo.com/embedreg/form' : url;
            //submitCommandForm('DEFAULT', false, null, regURL, '_blank', null, false);
            window.open(regURL);
            if (!isWindowInMDIContext) { // To force Chrome close the popup. Just needed in classic mode
              setTimeout(function() { closeRegistrationPage(); }, 500);
            }
          }
          if (strText === 'REGISTER' || strText === 'DISABLE' || strText === 'POSTPONE') {
            closeRegistrationPage();
          }
        }
      } catch (e) {
      }
    }
    return true;
  }

  function register() {
    var paramXMLReq = null;
    return submitXmlHttpRequest(callback, null, 'REGISTER', 'Registration.html', false, null, paramXMLReq);
  }

  function disable() {
    var paramXMLReq = null;
    return submitXmlHttpRequest(callback, null, 'DISABLE', 'Registration.html', false, null, paramXMLReq);
  }

  function postpone() {
    var paramXMLReq = null;
    return submitXmlHttpRequest(callback, null, 'POSTPONE', 'Registration.html', false, null, paramXMLReq);
  }
  </script>

  <script language="JavaScript" type="text/javascript">
  function onLoadDo(){
    this.windowTables = new Array(
      new windowTableId('client', 'buttonRegister')
    );
    setWindowTableParentElement();
    enableShortcuts('popup');
    setBrowserAutoComplete(false);
    setWindowElementFocus('firstElement');
  }

  function onResizeDo(){
  }
  </script>

</head>
<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" onload="onLoadDo();" onresize="onResizeDo();">

<div class="Popup_Wallpaper_Background Popup_Wallpaper_Background_Registration">
  <img src="../../../../../web/images/blank.gif" class="Popup_Wallpaper_Image Popup_Wallpaper_Image_Registration"></img>
</div>

<form method="post" action="Registration.html" name="frmMain" style="position: relative;">
<input type="hidden" name="Command">
<input type="hidden" name="IsPopUpCall" value="1"></input>

<div class="Popup_ContentPane_CircleLogo">
  <div class="Popup_WindowLogo">
    <img class="Popup_WindowLogo_Icon Popup_WindowLogo_Icon_registration" src="../../../../../web/images/blank.gif" border=0/></img>
  </div>
</div>

<table cellspacing="0" cellpadding="0" width="100%">

  <tr>
    <td>
      <table cellspacing="0" cellpadding="0" class="Popup_ContentPane_NavBar">
        <tr class="Popup_NavBar_bg"><td></td>
          <td class="Popup_NavBar_separator_cell"></td>
          <td class="Popup_NavBar_bg_logo_left"></td>
          <td class="Popup_NavBar_bg_logo" width="1" onclick="openNewBrowser('http://www.openbravo.com', 'Openbravo');return false;"><img src="../../../../../web/images/blank.gif" alt="Openbravo" title="Openbravo" border="0" id="openbravoLogo" class="Popup_NavBar_logo" /></td>
          <td class="Popup_NavBar_bg_logo_right"></td>
          <td class="Popup_NavBar_Popup_title_cell"><span>Registration</span></td>
          <td class="Popup_NavBar_separator_cell"></td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <td>
      <table cellspacing="0" cellpadding="0" class="Popup_ContentPane_SeparatorBar">
        <tr>
          <td class="Popup_SeparatorBar_bg"></td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <td>
      <div class="Popup_ContentPane_Client" style="overflow: auto; background: none !important;">
        <table cellspacing="0" cellpadding="0" class="Popup_Client_TablePopup" style="background: none !important;">
          <tr>
            <td>
              <p class="Wide_Paragraph" id="paramWelcome">xxWelcome to Openbravo ERP</p>
            </td>
          </tr>
        </table>
      </div> 
    </td>
  </tr>
  <tr>
    <td>
      <div class="Popup_ContentPane_Client" style="overflow: auto; background: none !important;" id="client">
        <table cellspacing="0" cellpadding="0" class="Popup_Client_TablePopup" style="background: none !important;">
          <tbody><tr>
            <td class="TableEdition_OneCell_width"/>
            <td class="TableEdition_OneCell_width"/>
            <td class="TableEdition_OneCell_width"/>
            <td class="TableEdition_OneCell_width"/>
            <td class="TableEdition_OneCell_width"/>
          </tr>
          <tr><td height="20" colspan="5"/></tr>
          <tr>
            <td/>
            <td class="Button_RightAlign_ContentCell">
              <div>
                <button type="button" 
                  id="buttonRegister" 
                  class="ButtonLink" 
                  onclick="register();return false;" 
                  onfocus="buttonEvent('onfocus', this); window.status='Register'; return true;" 
                  onblur="buttonEvent('onblur', this);" 
                  onkeyup="buttonEvent('onkeyup', this);" 
                  onkeydown="buttonEvent('onkeydown', this);" 
                  onkeypress="buttonEvent('onkeypress', this);" 
                  onmouseup="buttonEvent('onmouseup', this);" 
                  onmousedown="buttonEvent('onmousedown', this);" 
                  onmouseover="buttonEvent('onmouseover', this); window.status='Register'; return true;" 
                  onmouseout="buttonEvent('onmouseout', this);">
                  <table class="Button">
                    <tr>
                      <td class="Button_left"><img class="Button_Icon Button_Icon_ok" alt="Register" title="Register" src="../../../../../web/images/blank.gif" border="0" /></td>
                      <td class="Button_text Button_width">Register</td>
                      <td class="Button_right"></td>
                    </tr>
                  </table>
                </button>
              </div>
            </td>
            <td class="Button_CenterAlign_ContentCell">
              <div>
                <button type="button" 
                  class="ButtonLink" 
                  onclick="disable();return false;" 
                  onfocus="buttonEvent('onfocus', this); window.status='Decline'; return true;" 
                  onblur="buttonEvent('onblur', this);" 
                  onkeyup="buttonEvent('onkeyup', this);" 
                  onkeydown="buttonEvent('onkeydown', this);" 
                  onkeypress="buttonEvent('onkeypress', this);" 
                  onmouseup="buttonEvent('onmouseup', this);" 
                  onmousedown="buttonEvent('onmousedown', this);" 
                  onmouseover="buttonEvent('onmouseover', this); window.status='Decline'; return true;" 
                  onmouseout="buttonEvent('onmouseout', this);">
                  <table class="Button">
                    <tr>
                      <td class="Button_left"><img class="Button_Icon Button_Icon_cancel" alt="Decline" title="Decline" src="../../../../../web/images/blank.gif" border="0" /></td>
                      <td class="Button_text Button_width">Decline</td>
                      <td class="Button_right"></td>
                    </tr>
                  </table>
                </button>
              </div>
            </td>
            <td class="Button_LeftAlign_ContentCell">
              <div>
                <button type="button" 
                  class="ButtonLink" 
                  onclick="postpone();return false;" 
                  onfocus="buttonEvent('onfocus', this); window.status='Later'; return true;" 
                  onblur="buttonEvent('onblur', this);" 
                  onkeyup="buttonEvent('onkeyup', this);" 
                  onkeydown="buttonEvent('onkeydown', this);" 
                  onkeypress="buttonEvent('onkeypress', this);" 
                  onmouseup="buttonEvent('onmouseup', this);" 
                  onmousedown="buttonEvent('onmousedown', this);" 
                  onmouseover="buttonEvent('onmouseover', this); window.status='Later'; return true;" 
                  onmouseout="buttonEvent('onmouseout', this);">
                  <table class="Button">
                    <tr>
                      <td class="Button_left"><img class="Button_Icon Button_Icon_process" alt="Later" title="Later" src="../../../../../web/images/blank.gif" border="0" /></td>
                      <td class="Button_text Button_width">Later</td>
                      <td class="Button_right"></td>
                    </tr>
                  </table>
                </button>
              </div>
            </td>
            <td/>
          </tr>
        </tbody></table>
      </div>
  	</td>
  </tr>
</table>
</form>
</body>
</html>